digraph {
rankdir=LR;
start_1[shape=circle label=""];
end_1[shape=doublecircle label=""];
"seg_1"[shape=diamond label="X"];
"spg_1"[shape=diamond label="AND"];
"mpg_1"[shape=diamond label="AND"];
"Guest calls room service"[shape=rectangle];
"Manager takes down the order"[shape=rectangle];
"Manager submits order to kitchen"[shape=rectangle];
"Manager gives order to sommelier"[shape=rectangle];
"Manager assigns order to waiter"[shape=rectangle];
"Kitchen prepares food"[shape=rectangle];
"Sommelier fetches wine"[shape=rectangle];
"Waiter readies a cart"[shape=rectangle];
"Waiter delivers order"[shape=rectangle];
"Waiter returns to station"[shape=rectangle];
"Waiter debits guest's account"[shape=rectangle];
"Waiter waits to do billing"[shape=rectangle];

start_1 -> "Guest calls room service";
"Guest calls room service" -> "Manager takes down the order";
"Manager takes down the order" -> "spg_1";
"spg_1" -> "Manager submits order to kitchen";
"spg_1" -> "Manager gives order to sommelier";
"spg_1" -> "Manager assigns order to waiter";
"Manager submits order to kitchen" -> "Kitchen prepares food";
"Manager gives order to sommelier" -> "Sommelier fetches wine";
"Manager assigns order to waiter" -> "Waiter readies a cart";
"Kitchen prepares food" -> "mpg_1";
"Sommelier fetches wine" -> "mpg_1";
"Waiter readies a cart" -> "mpg_1";
"mpg_1" -> "Waiter delivers order";
"Waiter delivers order" -> "Waiter returns to station";
"Waiter returns to station" -> "seg_1";
"seg_1" -> "Waiter debits guest's account"[label="No other order"];
"seg_1" -> "Waiter waits to do billing"[label="Has other order"];
"Waiter debits guest's account" -> end_1;
"Waiter waits to do billing" -> end_1;
}